<% content_for :content do %>
  <section>
    <div class="container">
    <h2><%= @test_suite.name %></h2>
      <p>
        <%= @test_suite.description %>
      </p>
    </div>
  </section>
  <section>
    <div class="container">
      <h3>Listing Features</h3>
      <p>
        <%= link_to 'New Feature', new_test_suite_feature_path(@test_suite) %>
      </p>
      <%= generate_table(
        striped: true,
        data_table: true,
        header: ['Name'] + @testers.map { |tester| tester.user.email },
        content: @features.map do |feature|
          [feature.name] +
          @testers.map { |tester| tester.user.last_approved(feature) || '-' } +
          [link_to('View', test_suite_feature_path(@test_suite, feature))]
        end) %>
    </div>
  </section>
  <section>
    <div class="container">
      <%= link_to 'Create issue', new_issue_path(test_suite_id: @test_suite.id), class: 'btn btn-danger' %>
      <%= link_to 'Back', test_suites_path, class: 'btn btn-primary' %>
      <%= link_to 'Edit', edit_test_suite_path(@test_suite), class: 'btn btn-primary' %>
    </div>
  </section>
  <section>
    <div class="container">
      <%= render 'issues/issue_list', issues: @issues %>
    </div>
  </section>
<% end %>